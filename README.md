# Today List - タスク管理アプリ

## プロジェクト概要

Today Listは、日々のタスク管理を効率的かつ直感的に行うためのFlutterアプリケーションです。タスクを「今日やること」と「いつかやること」に明確に区分けすることで、ユーザーは日々の優先事項に集中しながらも、将来のタスクを忘れることなく管理できます。

各タスクには複数のステップを追加でき、大きな作業を小さく分割して取り組みやすくします。全てのタスクとステップは、美しく一貫性のあるデザインのカードUIで表示され、直感的な操作でタスク管理を行うことができます。

複数のワークスペースをタブで切り替えられるため、仕事用・個人用・プロジェクト用など、用途に応じた分類が可能です。また、カスタマイズ可能な6種類のテーマを用意しており、ユーザーの好みに合わせてアプリの見た目を変更できます。

## アーキテクチャ

本プロジェクトはFluxアーキテクチャを採用し、データの一方向の流れを実現しています。主な特徴は以下の通りです：

- **Flux**: アクション→ディスパッチャー→ストア→ビューという一方向のデータフローによる状態管理
- **Riverpod**: 効率的な状態管理とUI更新を実現する依存性注入フレームワーク
- **Freezed**: イミュータブルなデータモデルを生成するためのコード生成ツール
- **JSON Serialization**: JSONによるデータの永続化と復元

### Fluxアーキテクチャの実装

```
View → Action → Dispatcher → Store → View（更新）
```

- **Action**: ユーザー操作を表すアクション（例：ToDoの追加、チェック状態の変更など）
- **Dispatcher**: アクションをストアに転送
- **Store**: アプリの状態を管理し、アクションに応じて状態を更新
- **View**: 現在の状態を表示し、ユーザー操作を受け付け

## ディレクトリ構成

```
today_list/
├── lib/
│   ├── flux/                     # Fluxアーキテクチャの実装
│   │   ├── action/               # アクション定義
│   │   │   └── todo_action.dart  # ToDoに関するアクション
│   │   ├── dispatcher/           # ディスパッチャー
│   │   │   └── todo_dispatcher.dart # アクションのディスパッチ処理
│   │   └── store/                # ストア（状態管理）
│   │       ├── todo_store.dart   # ToDo状態の管理
│   │       └── workspace_store.dart # ワークスペース状態の管理
│   ├── model/                    # データモデル
│   │   ├── design/               # デザイン関連のモデル
│   │   │   ├── tl_theme.dart     # テーマ管理
│   │   │   └── tl_theme_config.dart # テーマ設定
│   │   ├── generate/             # 自動生成されたコード
│   │   │   ├── tl_step.g.dart    # Stepモデルの生成コード
│   │   │   └── tl_todo.g.dart    # ToDoモデルの生成コード
│   │   └── todo/                 # ToDoデータモデル
│   │       ├── tl_step.dart      # ステップモデル
│   │       ├── tl_todo.dart      # ToDoモデル
│   │       ├── tl_workspace.dart # ワークスペースモデル
│   │       └── tl_todos_in_today_and_whenever.dart # Today/Whenever分類
│   ├── resource/                 # リソース
│   │   └── tl_theme_type.dart    # テーマタイプ定義
│   ├── service/                  # サービス
│   │   └── tl_vibration_service.dart # 振動サービス
│   └── view/                     # UI関連
│       ├── component/            # 再利用可能なコンポーネント
│       │   ├── snack_bar/        # スナックバー関連
│       │   └── todo_card/        # ToDoカード関連
│       │       ├── tl_checkbox.dart # チェックボックス
│       │       ├── tl_step_card.dart # ステップカード
│       │       └── tl_todo_card/  # ToDoカード
│       └── page/                 # アプリの各ページ
│           ├── add_todo_page/    # ToDo追加ページ
│           ├── home_page/        # ホームページ
│           │   └── edit_todo_sheet/ # ToDo編集シート
│           └── settings_page/    # 設定ページ
└── test/                         # テストコード
    └── unit_test/                # ユニットテスト
        └── flux/                 # Flux関連のテスト
            └── store/            # ストアのテスト
                └── todo_store_test.dart # TodoStoreのテスト
```

## 技術スタック

### 言語とフレームワーク
- **Dart**
- **Flutter**

### 使用パッケージ
- **UI関連**
  - cupertino_icons: iOSスタイルのアイコン
  - flutter_progress_hud: 処理中のプログレスインジケーター表示
  - font_awesome_flutter: Font Awesomeアイコンセット
  - flutter_slidable: スワイプアクション機能
  - reorderables: リスト項目のドラッグ＆ドロップ並べ替え
  - popover: ポップアップウィンドウ表示

- **状態管理**
  - flutter_riverpod: 状態管理フレームワーク
  - hooks_riverpod: RiverpodとFlutter Hooksの統合
  - flutter_hooks: 再利用可能なステート処理

- **データモデル・シリアライズ**
  - freezed_annotation: イミュータブルなデータモデル用アノテーション
  - json_annotation: JSONシリアライズ用アノテーション
  - go_router: ルーティング管理
  - uni_links: ディープリンク処理

- **ユーティリティ**
  - intl: 国際化とローカライゼーション
  - uuid: 一意のID生成
  - flutter_vibrate: 振動フィードバック
  - flutter_dotenv: 環境変数の管理
  - shared_preferences: データの永続化
  - flutter_colorpicker: 色選択ダイアログ
  
- **アイコン**
  - flutter_native_splash: スプラッシュ画面の実装
  - flutter_dynamic_icon: アプリアイコンの動的変更
  - flutter_launcher_icons: アプリアイコンの設定

- **広告**
  - google_mobile_ads: Google広告の統合


## 主要機能

### 今日/いつかの分類による優先度管理
タスクを「Today（今日）」と「Whenever（いつか）」に分類できます。この区分けにより、ユーザーは「今日やるべきこと」に集中しつつ、「いつか取り組みたいこと」も記録しておくことができます。また、タブ間で簡単にタスクを移動でき、計画を柔軟に調整できます。

### マルチワークスペース対応
複数のワークスペースを作成し、目的別にタスクを整理できます。例えば「仕事」「個人」「勉強」など、異なる生活領域のタスクを分けて管理できます。各ワークスペースは独立しており、タブでの切り替えが可能です。

### タスク並び替え機能
ToDo項目の順序を簡単に変更できる並び替え機能を搭載しています。タスクの優先順位を状況に応じて柔軟に調整できます。

### スワイプアクション
ToDo項目を左右にスワイプすることで、さまざまなアクションにアクセスできます。編集、削除、Today/Whenever間の移動などの機能に素早くアクセスでき、タスク管理の効率が向上します。

### テーマのカスタマイズ
6種類の美しいテーマから好みのデザインを選択できます。作業環境や気分に合わせてアプリの外観を変更することで、タスク管理の楽しさが増し、継続的な使用をサポートします。

### アプリアイコンの動的変更
選択したテーマに合わせて、アプリのホーム画面アイコンも自動的に変更されます。これにより、アプリの外観だけでなく、デバイスのホーム画面上でもテーマカラーが反映され、統一感のあるデザイン体験を提供します。

### チェックボックスのアイコンのカスタマイズ
チェックボックスのアイコンを複数のスタイルから選択できます。丸形、四角形、星形など、好みのアイコンスタイルに変更することで、視覚的な楽しさを追加しつつ、タスク管理をより個性的にカスタマイズできます。テーマごとに異なるアイコンスタイルを設定することも可能です。

### iOSウィジェット対応
iOSのホーム画面ウィジェットに対応しており、任意のワークスペースに登録されているTo Doをホーム画面から直接閲覧できます。これにより、アプリを開かなくても重要なタスクを常に確認できるため、タスク管理の効率が向上します。

### ディープリンク機能
ウィジェットをタップすると、ディープリンク機能によって自動的に対応するワークスペースがアプリ内で開かれます。これにより、ホーム画面からワンタップで特定のワークスペースに直接アクセスでき、シームレスなユーザー体験を実現しています。

## 環境設定

### 広告設定
このアプリは広告表示のために`.env`ファイルに広告IDを設定しています。

1. リポジトリ内の`env_example.txt`ファイルには、テスト用広告IDの一覧が記載されています
2. アプリをビルドする際は、このファイルをコピーして`.env`という名前のファイルを作成してください
3. 作成された`.env`ファイルをアプリのルートディレクトリに配置することで、アプリが環境変数を認識して正常に起動します

