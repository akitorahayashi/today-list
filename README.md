# Today List

## プロジェクト概要

Today Listは、日々のタスク管理を効率的に行うためのアプリです。タスクを「今日やること」と「いつでもやっていいこと」に明確に区分けすることで、ユーザーは日々の優先事項に集中しながらも、将来のタスクを忘れることなく管理できます。

各タスクには複数のステップを追加でき、大きな作業を小さく分割して取り組みやすくします。全てのタスクとステップは、美しく一貫性のあるデザインのカードUIで表示され、直感的な操作でタスク管理を行うことができます。

複数のワークスペースをタブで切り替えられるため、仕事用・個人用・プロジェクト用など、用途に応じた分類が可能です。また、カスタマイズ可能な6種類のテーマを用意しており、ユーザーの好みに合わせてアプリの見た目を変更できます。

## アーキテクチャ

本プロジェクトはFluxアーキテクチャを採用し、データの一方向の流れを実現しています。主な特徴は以下の通りです

- **Flux**: アクション→ディスパッチャー→ストア→ビューという一方向のデータフローによる状態管理
- **Riverpod**: 効率的な状態管理とUI更新を実現する依存性注入フレームワーク
- **Freezed**: イミュータブルなデータモデルを生成するためのコード生成ツール
- **JSON Serialization**: JSONによるデータの永続化と復元

### Fluxアーキテクチャの実装

```
View → Action → Dispatcher → Store → View（更新）
```

- **Action**: ユーザー操作を表すアクション（例：ToDoの追加、チェック状態の変更など）
- **Dispatcher**: アクションをストアに転送
- **Store**: アプリの状態を管理し、アクションに応じて状態を更新
- **View**: 現在の状態を表示し、ユーザー操作を受け付け

## ディレクトリ構成

```
today_list/
├── lib/
│   ├── resource/
│   ├── util/
│   ├── router/
│   ├── service/
│   ├── model/
│   │   ├── design/
│   │   ├── external/
│   │   ├── settings_data/
│   │   └── todo/
│   ├── flux/
│   │   ├── action/
│   │   ├── dispatcher/
│   │   └── store/
│   └── view/
│       ├── component/
│       └── page/
│           ├── add_todo_page/
│           ├── settings_page/
│           └── home_page/
└── test/
    ├── unit_test/
    │   └── flux/
    └── widget_test/
        ├── component/
        └── page/
```

## 技術スタック

### 言語とフレームワーク
- **Dart**
- **Flutter**

### 使用パッケージ
- **UI関連**
  - cupertino_icons
  - flutter_progress_hud
  - font_awesome_flutter
  - flutter_slidable
  - reorderables
  - popover

- **状態管理**
  - flutter_riverpod
  - hooks_riverpod
  - flutter_hooks

- **データモデル・シリアライズ**
  - freezed_annotation
  - json_annotation
  - go_router
  - uni_links

- **ユーティリティ**
  - intl
  - uuid
  - flutter_vibrate
  - flutter_dotenv
  - shared_preferences
  - flutter_colorpicker
  
- **アイコン**
  - flutter_native_splash
  - flutter_dynamic_icon
  - flutter_launcher_icons

- **広告**
  - google_mobile_ads


## 主要機能

### 今日/いつでも の分類による優先度管理
タスクを「Today（今日）」と「Whenever（いつでも）」に分類できます。この区分けにより、ユーザーは「今日やるべきこと」に集中しつつ、「いつか取り組みたいこと」も記録しておくことができます。また、タブ間で簡単にタスクを移動でき、計画を柔軟に調整できます。

### マルチワークスペース対応
複数のワークスペースを作成し、目的別にタスクを整理できます。例えば「仕事」「個人」「勉強」など、異なる生活領域のタスクを分けて管理できます。各ワークスペースは独立しており、タブでの切り替えが可能です。

### タスク並び替え機能
ToDo項目の順序を簡単に変更できる並び替え機能を搭載しています。タスクの優先順位を状況に応じて柔軟に調整できます。

### スワイプアクション
ToDo項目を左右にスワイプすることで、さまざまなアクションにアクセスできます。編集、削除、Today/Whenever間の移動などの機能に素早くアクセスでき、タスク管理の効率が向上します。

### テーマのカスタマイズ
6種類の美しいテーマから好みのデザインを選択できます。作業環境や気分に合わせてアプリの外観を変更することで、タスク管理の楽しさが増し、継続的な使用をサポートします。

### アプリアイコンの動的変更
選択したテーマに合わせて、アプリのホーム画面アイコンも自動的に変更されます。これにより、アプリの外観だけでなく、デバイスのホーム画面上でもテーマカラーが反映され、統一感のあるデザイン体験を提供します。

### チェックボックスのアイコンのカスタマイズ
チェックボックスのアイコンを複数のスタイルから選択できます。丸形、四角形、星形など、好みのアイコンスタイルに変更することで、視覚的な楽しさを追加しつつ、タスク管理をより個性的にカスタマイズできます。テーマごとに異なるアイコンスタイルを設定することも可能です。

### iOSウィジェット対応
iOSのホーム画面ウィジェットに対応しており、以下の2種類のウィジェットを提供しています：

1. **ワークスペース別ウィジェット（ToDosInWorkspaceWidget）**
   - 選択したワークスペース内の今日に分類されているToDoを表示します
   - ウィジェット編集でワークスペースを選択できます
   - Deep Linkに対応しており、タップすると対応するワークスペースが自動的に開きます
   - ウィジェット設定画面でDeep Linkのオン/オフを切り替えることができます

2. **すべてのワークスペースウィジェット（ToDosInTodayWidget）**
   - すべてのワークスペースで今日に分類されているToDoを一覧表示します
   - ワークスペース名のチップを表示し、各ワークスペースの未完了ToDosを確認できます

これらのウィジェットにより、アプリを開かなくても重要なタスクを常に確認できるため、タスク管理の効率が向上します。

### ディープリンク
ワークスペース別ウィジェット（ToDosInWorkspaceWidget）をタップすると、ディープリンクによって自動的に対応するワークスペースがアプリ内で開かれます。これにより、ホーム画面からワンタップで特定のワークスペースに直接アクセスできます。

## 環境設定

### 広告設定
このアプリは広告表示のために`.env`ファイルに広告IDを設定しています。

1. リポジトリ内の`env.example.txt`ファイルには、テスト用広告IDの一覧が記載されています
2. アプリをビルドする際は、このファイルをコピーして`.env`という名前のファイルを作成してください
3. 作成された`.env`ファイルをアプリのルートディレクトリに配置することで、アプリが環境変数を認識して正常に起動します

